<!DOCTYPE html><html><head><link rel="icon" href="/favicon.ico"/><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Comunica ‚Äì Comunica Association Bounties</title><link rel="icon" href="/favicon.ico"/><link rel="foaf:primaryTopic" href="/#software"/><link rel="foaf:maker" href="https://www.rubensworks.net/#me"/><link rel="alternate" type="application/rss+xml" title="Comunica ‚Äì Blog" href="/rss-feed.xml"/><meta property="og:image" content="/img/comunica_red.svg"/><meta property="og:title" content="Comunica ‚Äì Comunica Association Bounties"/><meta property="og:description" content="Bounties that have been placed on issues"/><meta property="og:url" content="/"/><meta property="og:locale" content="en_US"/><meta property="og:site_name" content="Comunica ‚Äì Comunica Association Bounties"/><meta property="og:type" content="website"/><meta name="twitter:site" content="@comunicajs"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Comunica ‚Äì Comunica Association Bounties"/><meta name="twitter:description" content="Bounties that have been placed on issues"/><meta name="twitter:image" content="https://comunica.dev/img/comunica_red.png"/><meta name="next-head-count" content="19"/><link rel="preload" href="/_next/static/css/f5303e293f69ddc8f1f4.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f5303e293f69ddc8f1f4.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.15878d4e523f86636251.js" as="script"/><link rel="preload" href="/_next/static/chunks/c1e3b2f3f43b173a87628e8247c22128e45b3e61.71d68ec00d361c7548dd.js" as="script"/><link rel="preload" href="/_next/static/chunks/f6078781a05fe1bcb0902d23dbbb2662c8d200b3.f60a5b4558a7ac8d5749.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-f1fe6667a04211514700.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-44c872fd0c0e842d8916.js" as="script"/><link rel="preload" href="/_next/static/chunks/f75c12409109803d0c2ec2410ee42e89f4e7705a.dd531d45df067bb4f903.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/association/bounties-93bd20ecadd6df7a7e85.js" as="script"/></head><body><nav><div><a href="/"><img src="/img/comunica_white.svg" class="nav-icon" alt="Comunica logo"/></a><a href="#" class="toggle-nav"><img src="/img/navigation-toggle.svg" alt="Toggle navigation bar"/></a></div><ul><li><a href="http://query.linkeddatafragments.org/">Try live</a></li><li><a href="/docs/">Docs</a></li><li><a href="/blog/">Blog</a></li><li><a href="/about/">About</a></li><li><a href="/ask/">Ask</a></li><li><a href="/research/">Research</a></li><li><a href="/association/">Association</a></li><li><a href="https://github.com/comunica/comunica">GitHub</a></li></ul></nav><div class="nav-pusher"></div><div id="__next"><div class="container-page"><main><h1>Comunica Association Bounties</h1><hr/><p>This page lists all issues on which a bounty has been placed at the <a href="/association/">Comunica Association</a>.</p><p>As a <strong>developer</strong>, express your interest to work on any issue, after which we can discuss the details.</p><p>As an <strong>organization</strong>, you can <a href="mailto:ruben.taelman@ugent.be?subject=I want to place a bounty">mail us</a> to add additional bounties regarding Comunica-related projects.</p><p>Learn more about the <a href="/association/bounty_process/">procedures for all parties</a> interacting with these bounties.</p><p><h2 id="open">Open Bounties</h2><hr/><div class="grid-wide"><div class="card-bounty" id="https://github.com/comunica/comunica/issues/892"><a href="https://github.com/comunica/comunica" target="_blank"><h3>comunica/comunica</h3></a><a href="https://github.com/comunica/comunica/issues/892" target="_blank"><h2>ORDER BY is not implemented completely<!-- --> <span class="issue-id">#<!-- -->892</span></h2></a><div class="issue-metadata"><div class="issue-bounty-claimed">üîí Claimed</div><table><tr><td>Created</td><td><span>Sunday, November 21, 2021</span></td></tr><tr><td>Sponsors</td><td class="issue-sponsors">














<table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="https://comunica.dev/association/"><img alt="Comunica Association" src="https://comunica.dev/img/comunica_red.svg" height="50"/></a></td></tr><tr><td>‚Ç¨544</td></tr></tbody></table></td></tr><tr><td>Claimed by</td><td><a id="https://github.com/Tpt" href="https://github.com/Tpt"><img alt="Thomas Tanon" title="Thomas Tanon" src="https://avatars.githubusercontent.com/u/458123?u=bf1d77be86bf27f242441a992982e19e54cf51f9&amp;v=4"/></a></td></tr></table></div></div><div class="card-bounty" id="https://github.com/rubensworks/jsonld-streaming-parser.js/issues/76"><a href="https://github.com/rubensworks/jsonld-streaming-parser.js" target="_blank"><h3>rubensworks/jsonld-streaming-parser.js</h3></a><a href="https://github.com/rubensworks/jsonld-streaming-parser.js/issues/76" target="_blank"><h2>Stream scalability issues<!-- --> <span class="issue-id">#<!-- -->76</span></h2></a><div class="issue-metadata"><a href="mailto:ruben.taelman@ugent.be?subject=I want to claim a bounty&amp;body=In am interested in claiming https://github.com/rubensworks/jsonld-streaming-parser.js/issues/76, please tell me more!"><div class="issue-bounty-unclaimed">üñêÔ∏è I want to work on this</div></a><table><tr><td>Created</td><td><span>Tuesday, July 20, 2021</span></td></tr><tr><td>Sponsors</td><td class="issue-sponsors">














<table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="https://triply.cc/"><img alt="Triply" src="https://nightly.triplydb.com/imgs/logos/logo-lg.svg?v=3" height="25"/></a></td></tr><tr><td>‚Ç¨3808</td></tr></tbody></table></td></tr></table></div></div><div class="card-bounty" id="https://github.com/comunica/comunica/issues/759"><a href="https://github.com/comunica/comunica" target="_blank"><h3>comunica/comunica</h3></a><a href="https://github.com/comunica/comunica/issues/759" target="_blank"><h2>Ensure backpressure is maintained in streams<!-- --> <span class="issue-id">#<!-- -->759</span></h2></a><div class="issue-metadata"><a href="mailto:ruben.taelman@ugent.be?subject=I want to claim a bounty&amp;body=In am interested in claiming https://github.com/comunica/comunica/issues/759, please tell me more!"><div class="issue-bounty-unclaimed">üñêÔ∏è I want to work on this</div></a><table><tr><td>Created</td><td><span>Thursday, November 12, 2020</span></td></tr><tr><td>Sponsors</td><td class="issue-sponsors">














<table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="https://comunica.dev/association/"><img alt="Comunica Association" src="https://comunica.dev/img/comunica_red.svg" height="50"/></a></td></tr><tr><td>‚Ç¨1088</td></tr></tbody></table></td></tr></table></div></div><div class="card-bounty" id="https://github.com/rdfjs/rdfxml-streaming-parser.js/issues/39"><a href="https://github.com/rdfjs/rdfxml-streaming-parser.js" target="_blank"><h3>rdfjs/rdfxml-streaming-parser.js</h3></a><a href="https://github.com/rdfjs/rdfxml-streaming-parser.js/issues/39" target="_blank"><h2>URL encoded strings are decoded in IRIs<!-- --> <span class="issue-id">#<!-- -->39</span></h2></a><div class="issue-metadata"><div class="issue-bounty-claimed">üîí Claimed</div><table><tr><td>Created</td><td><span>Tuesday, June 30, 2020</span></td></tr><tr><td>Sponsors</td><td class="issue-sponsors">














<table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="https://triply.cc/"><img alt="Triply" src="https://nightly.triplydb.com/imgs/logos/logo-lg.svg?v=3" height="25"/></a></td></tr><tr><td>‚Ç¨544</td></tr></tbody></table></td></tr><tr><td>Claimed by</td><td><a id="https://github.com/danielbeeke" href="https://github.com/danielbeeke"><img alt="Daniel Beeke" title="Daniel Beeke" src="https://avatars.githubusercontent.com/u/684215?u=44d5742e760eaa9cd2b05b5025654b028c50eacd&amp;v=4"/></a></td></tr></table></div></div><div class="card-bounty" id="https://github.com/comunica/sparqlee/issues/38"><a href="https://github.com/comunica/sparqlee" target="_blank"><h3>comunica/sparqlee</h3></a><a href="https://github.com/comunica/sparqlee/issues/38" target="_blank"><h2>Achieve full test coverage<!-- --> <span class="issue-id">#<!-- -->38</span></h2></a><div class="issue-metadata"><a href="mailto:ruben.taelman@ugent.be?subject=I want to claim a bounty&amp;body=In am interested in claiming https://github.com/comunica/sparqlee/issues/38, please tell me more!"><div class="issue-bounty-unclaimed">üñêÔ∏è I want to work on this</div></a><table><tr><td>Created</td><td><span>Monday, May 20, 2019</span></td></tr><tr><td>Sponsors</td><td class="issue-sponsors">














<table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="https://comunica.dev/association/"><img alt="Comunica Association" src="https://comunica.dev/img/comunica_red.svg" height="50"/></a></td></tr><tr><td>‚Ç¨544</td></tr></tbody></table></td></tr></table></div></div><div class="card-bounty" id="https://github.com/comunica/comunica/issues/166"><a href="https://github.com/comunica/comunica" target="_blank"><h3>comunica/comunica</h3></a><a href="https://github.com/comunica/comunica/issues/166" target="_blank"><h2>HTTP caching<!-- --> <span class="issue-id">#<!-- -->166</span></h2></a><div class="issue-metadata"><a href="mailto:ruben.taelman@ugent.be?subject=I want to claim a bounty&amp;body=In am interested in claiming https://github.com/comunica/comunica/issues/166, please tell me more!"><div class="issue-bounty-unclaimed">üñêÔ∏è I want to work on this</div></a><table><tr><td>Created</td><td><span>Tuesday, July 3, 2018</span></td></tr><tr><td>Sponsors</td><td class="issue-sponsors">














<table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="https://comunica.dev/association/"><img alt="Comunica Association" src="https://comunica.dev/img/comunica_red.svg" height="50"/></a></td></tr><tr><td>‚Ç¨544</td></tr></tbody></table></td></tr></table></div></div><div class="card-bounty" id="https://github.com/comunica/comunica/issues/119"><a href="https://github.com/comunica/comunica" target="_blank"><h3>comunica/comunica</h3></a><a href="https://github.com/comunica/comunica/issues/119" target="_blank"><h2>Clearer error reporting for incorrect input<!-- --> <span class="issue-id">#<!-- -->119</span></h2></a><div class="issue-metadata"><a href="mailto:ruben.taelman@ugent.be?subject=I want to claim a bounty&amp;body=In am interested in claiming https://github.com/comunica/comunica/issues/119, please tell me more!"><div class="issue-bounty-unclaimed">üñêÔ∏è I want to work on this</div></a><table><tr><td>Created</td><td><span>Monday, March 19, 2018</span></td></tr><tr><td>Sponsors</td><td class="issue-sponsors">














<table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="https://comunica.dev/association/"><img alt="Comunica Association" src="https://comunica.dev/img/comunica_red.svg" height="50"/></a></td></tr><tr><td>‚Ç¨1632</td></tr></tbody></table></td></tr></table></div></div><div class="card-bounty" id="https://github.com/comunica/comunica/issues/70"><a href="https://github.com/comunica/comunica" target="_blank"><h3>comunica/comunica</h3></a><a href="https://github.com/comunica/comunica/issues/70" target="_blank"><h2>Allow HTTP timeout configuration<!-- --> <span class="issue-id">#<!-- -->70</span></h2></a><div class="issue-metadata"><a href="mailto:ruben.taelman@ugent.be?subject=I want to claim a bounty&amp;body=In am interested in claiming https://github.com/comunica/comunica/issues/70, please tell me more!"><div class="issue-bounty-unclaimed">üñêÔ∏è I want to work on this</div></a><table><tr><td>Created</td><td><span>Monday, January 15, 2018</span></td></tr><tr><td>Sponsors</td><td class="issue-sponsors">














<table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="https://netwerkdigitaalerfgoed.nl/"><img alt="Netwerk Digitaal Erfgoed" src="https://user-images.githubusercontent.com/440384/134636829-f730230c-bfec-4d40-86d1-67f28479cdcc.png" height="25"/></a></td></tr><tr><td>‚Ç¨1088</td></tr></tbody></table></td></tr></table></div></div></div></p><p><h2 id="completed">Completed Bounties</h2><hr/><div class="grid-wide"><div class="card-bounty" id="https://github.com/comunica/comunica/issues/844"><a href="https://github.com/comunica/comunica" target="_blank"><h3>comunica/comunica</h3></a><a href="https://github.com/comunica/comunica/issues/844" target="_blank"><h2>Send original SPARQL query string to endpoints<!-- --> <span class="issue-id">#<!-- -->844</span></h2></a><div class="issue-metadata"><table><tr><td>Created</td><td><span>Wednesday, July 28, 2021</span></td></tr><tr><td>Completed</td><td><span>Friday, November 26, 2021</span></td></tr><tr><td>Sponsors</td><td class="issue-sponsors">














<table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="https://netwerkdigitaalerfgoed.nl/"><img alt="Netwerk Digitaal Erfgoed" src="https://user-images.githubusercontent.com/440384/134636829-f730230c-bfec-4d40-86d1-67f28479cdcc.png" height="25"/></a></td></tr><tr><td>‚Ç¨544</td></tr></tbody></table></td></tr><tr><td>Claimed by</td><td><a id="https://github.com/jasmineleonard" href="https://github.com/jasmineleonard"><img src="https://avatars.githubusercontent.com/u/6739756?u=5e5d6c1d719da3a53c090306150a205d7f0c7370&amp;v=4"/></a></td></tr></table></div></div><div class="card-bounty" id="https://github.com/RubenVerborgh/SPARQL.js/issues/120"><a href="https://github.com/RubenVerborgh/SPARQL.js" target="_blank"><h3>RubenVerborgh/SPARQL.js</h3></a><a href="https://github.com/RubenVerborgh/SPARQL.js/issues/120" target="_blank"><h2>Throwing `Projection of ungrouped variable` error on valid query<!-- --> <span class="issue-id">#<!-- -->120</span></h2></a><div class="issue-metadata"><table><tr><td>Created</td><td><span>Thursday, October 29, 2020</span></td></tr><tr><td>Completed</td><td><span>Friday, October 1, 2021</span></td></tr><tr><td>Sponsors</td><td class="issue-sponsors">














<table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="https://triply.cc/"><img alt="Triply" src="https://nightly.triplydb.com/imgs/logos/logo-lg.svg?v=3" height="25"/></a></td></tr><tr><td>‚Ç¨272</td></tr></tbody></table></td></tr><tr><td>Claimed by</td><td><a id="https://github.com/danielbeeke" href="https://github.com/danielbeeke"><img alt="Daniel Beeke" title="Daniel Beeke" src="https://avatars.githubusercontent.com/u/684215?u=44d5742e760eaa9cd2b05b5025654b028c50eacd&amp;v=4"/></a></td></tr></table></div></div><div class="card-bounty" id="https://github.com/RubenVerborgh/SPARQL.js/issues/99"><a href="https://github.com/RubenVerborgh/SPARQL.js" target="_blank"><h3>RubenVerborgh/SPARQL.js</h3></a><a href="https://github.com/RubenVerborgh/SPARQL.js/issues/99" target="_blank"><h2>Parsing issue with SPARQL query on inverse paths in anonymous node<!-- --> <span class="issue-id">#<!-- -->99</span></h2></a><div class="issue-metadata"><table><tr><td>Created</td><td><span>Thursday, June 25, 2020</span></td></tr><tr><td>Completed</td><td><span>Monday, November 29, 2021</span></td></tr><tr><td>Sponsors</td><td class="issue-sponsors">














<table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="https://triply.cc/"><img alt="Triply" src="https://nightly.triplydb.com/imgs/logos/logo-lg.svg?v=3" height="25"/></a></td></tr><tr><td>‚Ç¨272</td></tr></tbody></table></td></tr><tr><td>Claimed by</td><td><a id="https://github.com/danielbeeke" href="https://github.com/danielbeeke"><img alt="Daniel Beeke" title="Daniel Beeke" src="https://avatars.githubusercontent.com/u/684215?u=44d5742e760eaa9cd2b05b5025654b028c50eacd&amp;v=4"/></a></td></tr></table></div></div></div></p><p class="bounty-page-footer">All sponsorships (excluding VAT) are mainly indicative based on estimated time effort, and are open for negotiation.<br/>The <a href="/association/bounty_process/">overhead of 15%</a> is already subtracted from these amounts.</p></main></div></div><footer>¬©2018 ‚Äì 2022¬†<a href="http://www.ugent.be/">Ghent University</a>¬†‚Äì¬†<a href="http://www.imec.be/">imec</a>, Belgium<br/><a href="https://github.com/comunica/website">Source of this website</a></footer><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"githubData":{"data":{"search":{"nodes":[{"state":"OPEN","title":"ORDER BY is not implemented completely","url":"https://github.com/comunica/comunica/issues/892","number":892,"repository":{"name":"comunica","nameWithOwner":"comunica/comunica","url":"https://github.com/comunica/comunica","description":"üì¨ A knowledge graph querying framework for JavaScript"},"assignees":{"totalCount":1,"nodes":[{"name":"Thomas Tanon","avatarUrl":"https://avatars.githubusercontent.com/u/458123?u=bf1d77be86bf27f242441a992982e19e54cf51f9\u0026v=4","url":"https://github.com/Tpt"}]},"body":"_This issue has been modified by @rubensworks to describe the intended solution_\r\n\r\nApparently, [we only support ordering by literal values](https://github.com/comunica/sparqlee/blob/7c1180638154c72d3c3292e48d000ed9770796f0/lib/util/Ordering.ts#L8), and a total ordering as mentioned in the [SPARQL spec](https://www.w3.org/TR/sparql11-query/#modOrderBy) has not been implemented yet.\r\n\r\nThe goal of this issue is to properly implement total ordering in sparqlee (with the necessary unit tests), and optionally some integration tests here in Comunica.\r\n\r\n-----\r\n\r\n#### Issue type:\r\n\r\n- :bug: Bug \u003c!--Don't change this issue type!--\u003e\r\n\r\n____\r\n#### Description:\r\n\r\nRunning queries with ORDER BY on @comunica/actor-init-sparql-file, IRIs are not sorted.\r\n\r\nRelevant paragraph in the SPARQL 1.1 Spec (https://www.w3.org/TR/sparql11-query/#modOrderBy):\r\n\r\n\u003e The \"\u003c\" operator (see the Operator Mapping and 17.3.1 Operator Extensibility) defines the relative order of pairs of numerics, simple literals, xsd:strings, xsd:booleans and xsd:dateTimes. Pairs of IRIs are ordered by comparing them as simple literals.\r\n\r\nExample (using VALUES for self-containment, but I've found the same issue with actual input sources):\r\n```javascript\r\nimport { newEngine } from '@comunica/actor-init-sparql-file'\r\n\r\nconst query = `\r\n  PREFIX ex: \u003chttp://example.org/\u003e\r\n  SELECT ?x\r\n  WHERE {\r\n    VALUES ?x {ex:b ex:a ex:c}\r\n  } ORDER BY ?x`;\r\n\r\nconst engine = newEngine();\r\nconst resPromise = engine.query(query);\r\n\r\n// show the results\r\nresPromise\r\n  .then((result) =\u003e result.bindings())\r\n  .then((ba) =\u003e ba.map((b) =\u003e Object.fromEntries(b.entries())))\r\n  .then(console.log);\r\n\r\n// expected output:\r\n//\r\n// [\r\n//   {\r\n//     '?x': NamedNode { termType: 'NamedNode', value: 'http://example.org/a' }\r\n//   },\r\n//   {\r\n//     '?x': NamedNode { termType: 'NamedNode', value: 'http://example.org/b' }\r\n//   },\r\n//   {\r\n//     '?x': NamedNode { termType: 'NamedNode', value: 'http://example.org/c' }\r\n//   }\r\n// ]\r\n\r\n// actual output:\r\n//\r\n// [\r\n//   {\r\n//     '?x': NamedNode { termType: 'NamedNode', value: 'http://example.org/b' }\r\n//   },\r\n//   {\r\n//     '?x': NamedNode { termType: 'NamedNode', value: 'http://example.org/a' }\r\n//   },\r\n//   {\r\n//     '?x': NamedNode { termType: 'NamedNode', value: 'http://example.org/c' }\r\n//   }\r\n// ]\r\n```\r\n\r\n____\r\n#### Environment:\r\n\r\n\u003c!--Output of the `comunica-sparql -v` command.--\u003e\r\n\u003c!--If running in a development environment, this must be the output of `node ./packages/actor-init-sparql/bin/query.js -v`--\u003e\r\nResult of running from my package `node node_modules/@comunica/actor-init-sparql/bin/query.js -v`\r\n\r\n| software            | version\r\n| ------------------- | -------\r\n| Comunica Init Actor | 1.22.3\r\n| node                | v14.18.1\r\n| npm                 | 6.14.15\r\n| yarn                | 1.22.17\r\n| Operating System    | linux (Linux 5.4.0-48-generic)\r\n\r\n#### Crash log:\r\n\r\n\u003c!--Only required for crashes.--\u003e\r\n\u003c!--Don't paste contents here directly, but use something like http://pastebin.com/--\u003e\r\n\r\nNot applicable.\r\n\r\n-----\r\n\r\n## Bounty\r\n\r\nA [bounty](https://comunica.dev/association/bounties/) has been placed on this issue by:\r\n\r\n\u003c!--bounty:placers:start--\u003e\r\n\r\n| |\r\n|-|\r\n| [\u003cimg alt=\"Comunica Association\" src=\"https://comunica.dev/img/comunica_red.svg\" height=\"50\"\u003e](https://comunica.dev/association/) |\r\n| ‚Ç¨544 |\r\n\r\n\u003c!--bounty:placers:end--\u003e\r\n\r\n[Click here to learn more](https://comunica.dev/association/bounty_process/) if you're interested in claiming this bounty by resolving this issue.\r\n","bodyHTML":"\u003cp dir=\"auto\"\u003e\u003cem\u003eThis issue has been modified by \u003ca class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/rubensworks/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rubensworks\"\u003e@rubensworks\u003c/a\u003e to describe the intended solution\u003c/em\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eApparently, \u003ca href=\"https://github.com/comunica/sparqlee/blob/7c1180638154c72d3c3292e48d000ed9770796f0/lib/util/Ordering.ts#L8\"\u003ewe only support ordering by literal values\u003c/a\u003e, and a total ordering as mentioned in the \u003ca href=\"https://www.w3.org/TR/sparql11-query/#modOrderBy\" rel=\"nofollow\"\u003eSPARQL spec\u003c/a\u003e has not been implemented yet.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eThe goal of this issue is to properly implement total ordering in sparqlee (with the necessary unit tests), and optionally some integration tests here in Comunica.\u003c/p\u003e\n\u003chr\u003e\n\u003ch4 dir=\"auto\"\u003eIssue type:\u003c/h4\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003cg-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f41b.png\"\u003eüêõ\u003c/g-emoji\u003e Bug \u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch4 dir=\"auto\"\u003eDescription:\u003c/h4\u003e\n\u003cp dir=\"auto\"\u003eRunning queries with ORDER BY on @comunica/actor-init-sparql-file, IRIs are not sorted.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eRelevant paragraph in the SPARQL 1.1 Spec (\u003ca href=\"https://www.w3.org/TR/sparql11-query/#modOrderBy\" rel=\"nofollow\"\u003ehttps://www.w3.org/TR/sparql11-query/#modOrderBy\u003c/a\u003e):\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eThe \"\u0026lt;\" operator (see the Operator Mapping and 17.3.1 Operator Extensibility) defines the relative order of pairs of numerics, simple literals, xsd:strings, xsd:booleans and xsd:dateTimes. Pairs of IRIs are ordered by comparing them as simple literals.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp dir=\"auto\"\u003eExample (using VALUES for self-containment, but I've found the same issue with actual input sources):\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-js position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"import { newEngine } from '@comunica/actor-init-sparql-file'\n\nconst query = `\n  PREFIX ex: \u0026lt;http://example.org/\u0026gt;\n  SELECT ?x\n  WHERE {\n    VALUES ?x {ex:b ex:a ex:c}\n  } ORDER BY ?x`;\n\nconst engine = newEngine();\nconst resPromise = engine.query(query);\n\n// show the results\nresPromise\n  .then((result) =\u0026gt; result.bindings())\n  .then((ba) =\u0026gt; ba.map((b) =\u0026gt; Object.fromEntries(b.entries())))\n  .then(console.log);\n\n// expected output:\n//\n// [\n//   {\n//     '?x': NamedNode { termType: 'NamedNode', value: 'http://example.org/a' }\n//   },\n//   {\n//     '?x': NamedNode { termType: 'NamedNode', value: 'http://example.org/b' }\n//   },\n//   {\n//     '?x': NamedNode { termType: 'NamedNode', value: 'http://example.org/c' }\n//   }\n// ]\n\n// actual output:\n//\n// [\n//   {\n//     '?x': NamedNode { termType: 'NamedNode', value: 'http://example.org/b' }\n//   },\n//   {\n//     '?x': NamedNode { termType: 'NamedNode', value: 'http://example.org/a' }\n//   },\n//   {\n//     '?x': NamedNode { termType: 'NamedNode', value: 'http://example.org/c' }\n//   }\n// ]\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003eimport\u003c/span\u003e \u003cspan class=\"pl-kos\"\u003e{\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003enewEngine\u003c/span\u003e \u003cspan class=\"pl-kos\"\u003e}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efrom\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e'@comunica/actor-init-sparql-file'\u003c/span\u003e\n\n\u003cspan class=\"pl-k\"\u003econst\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003equery\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e`\u003c/span\u003e\n\u003cspan class=\"pl-s\"\u003e  PREFIX ex: \u0026lt;http://example.org/\u0026gt;\u003c/span\u003e\n\u003cspan class=\"pl-s\"\u003e  SELECT ?x\u003c/span\u003e\n\u003cspan class=\"pl-s\"\u003e  WHERE {\u003c/span\u003e\n\u003cspan class=\"pl-s\"\u003e    VALUES ?x {ex:b ex:a ex:c}\u003c/span\u003e\n\u003cspan class=\"pl-s\"\u003e  } ORDER BY ?x`\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"pl-k\"\u003econst\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eengine\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-en\"\u003enewEngine\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n\u003cspan class=\"pl-k\"\u003econst\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eresPromise\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eengine\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003equery\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003equery\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e// show the results\u003c/span\u003e\n\u003cspan class=\"pl-s1\"\u003eresPromise\u003c/span\u003e\n  \u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003ethen\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003eresult\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eresult\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003ebindings\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003ethen\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003eba\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eba\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003emap\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003eb\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"pl-v\"\u003eObject\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003efromEntries\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003eb\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003eentries\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003ethen\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003econsole\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003elog\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e// expected output:\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e// [\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//   {\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//     '?x': NamedNode { termType: 'NamedNode', value: 'http://example.org/a' }\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//   },\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//   {\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//     '?x': NamedNode { termType: 'NamedNode', value: 'http://example.org/b' }\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//   },\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//   {\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//     '?x': NamedNode { termType: 'NamedNode', value: 'http://example.org/c' }\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//   }\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e// ]\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e// actual output:\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e// [\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//   {\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//     '?x': NamedNode { termType: 'NamedNode', value: 'http://example.org/b' }\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//   },\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//   {\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//     '?x': NamedNode { termType: 'NamedNode', value: 'http://example.org/a' }\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//   },\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//   {\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//     '?x': NamedNode { termType: 'NamedNode', value: 'http://example.org/c' }\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//   }\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e// ]\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003chr\u003e\n\u003ch4 dir=\"auto\"\u003eEnvironment:\u003c/h4\u003e\n\n\n\u003cp dir=\"auto\"\u003eResult of running from my package \u003ccode class=\"notranslate\"\u003enode node_modules/@comunica/actor-init-sparql/bin/query.js -v\u003c/code\u003e\u003c/p\u003e\n\u003ctable role=\"table\"\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003esoftware\u003c/th\u003e\n\u003cth\u003eversion\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eComunica Init Actor\u003c/td\u003e\n\u003ctd\u003e1.22.3\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003enode\u003c/td\u003e\n\u003ctd\u003ev14.18.1\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003enpm\u003c/td\u003e\n\u003ctd\u003e6.14.15\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eyarn\u003c/td\u003e\n\u003ctd\u003e1.22.17\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eOperating System\u003c/td\u003e\n\u003ctd\u003elinux (Linux 5.4.0-48-generic)\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch4 dir=\"auto\"\u003eCrash log:\u003c/h4\u003e\n\n\n\u003cp dir=\"auto\"\u003eNot applicable.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 dir=\"auto\"\u003eBounty\u003c/h2\u003e\n\u003cp dir=\"auto\"\u003eA \u003ca href=\"https://comunica.dev/association/bounties/\" rel=\"nofollow\"\u003ebounty\u003c/a\u003e has been placed on this issue by:\u003c/p\u003e\n\n\u003ctable role=\"table\"\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ca href=\"https://comunica.dev/association/\" rel=\"nofollow\"\u003e\u003cimg alt=\"Comunica Association\" src=\"https://camo.githubusercontent.com/b4c6d02f83ec624d60d45d9d5ab87ca235d9a10f4ce7b84fdb73dda007d94b64/68747470733a2f2f636f6d756e6963612e6465762f696d672f636f6d756e6963615f7265642e737667\" height=\"50\" data-canonical-src=\"https://comunica.dev/img/comunica_red.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e‚Ç¨544\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://comunica.dev/association/bounty_process/\" rel=\"nofollow\"\u003eClick here to learn more\u003c/a\u003e if you're interested in claiming this bounty by resolving this issue.\u003c/p\u003e","createdAt":"2021-11-21T17:42:37Z","closedAt":null},{"state":"CLOSED","title":"Send original SPARQL query string to endpoints","url":"https://github.com/comunica/comunica/issues/844","number":844,"repository":{"name":"comunica","nameWithOwner":"comunica/comunica","url":"https://github.com/comunica/comunica","description":"üì¨ A knowledge graph querying framework for JavaScript"},"assignees":{"totalCount":1,"nodes":[{"name":null,"avatarUrl":"https://avatars.githubusercontent.com/u/6739756?u=5e5d6c1d719da3a53c090306150a205d7f0c7370\u0026v=4","url":"https://github.com/jasmineleonard"}]},"body":"_This issue has been modified by @rubensworks to describe the intended solution_\r\n\r\nThe problem is that we always parse the incoming query, and serialize it again when we send it to a SPARQL endpoint. Since this parsing-serializing process sometimes results in slightly different queries, this may cause issues for certain use cases. To solve this, we need to keep track of the original query string, and use that one in the case of querying a SPARQL endpoint.\r\n\r\nIn actor-init-sparql, we need to add the original query string into the context.\r\nIn `actor-query-operation-sparql-endpoint`, we need to check this context entry, and use that one if it exists.\r\n\r\nThe only difficulty here is that we have to make sure that this context entry does not propagate to places where it shouldn't. For example, if this actor is only used because of a `SERVICE` keyword, we need to make sure that the actor still uses the `SERVICE` operation instead of the full original query. We could do this by just making sure that the service operator unsets or overrides this entry.\r\n\r\n-----\r\n\r\nOriginal issue:\r\n\r\n\r\n#### Issue type:\r\n\r\n- :question: Question \u003c!--Don't change this issue type!--\u003e\r\n\r\n____\r\n#### Question:\r\n\r\nI want to query SPARQL endpoint `https://data.muziekschatten.nl/sparql`, backed by Virtuoso, using the query underneath:\r\n\r\n```sparql\r\nSELECT * WHERE {\r\n  ?uri \u003chttp://www.w3.org/1999/02/22-rdf-syntax-ns#type\u003e \u003chttp://schema.org/Person\u003e;\r\n    \u003chttp://schema.org/name\u003e ?label.\r\n  FILTER(\u003cbif:contains\u003e(?label, \"emile\"))\r\n  BIND(\"no name\" AS ?name)\r\n}\r\nLIMIT 100\r\n```\r\n\r\nIt's a silly query - but the crucial parts are the `FILTER` and the `BIND`. If I execute this using Comunica...\r\n\r\n`npx comunica-sparql sparql@https://data.muziekschatten.nl/sparql -f query.rq`\r\n\r\n...where file `query.rq` contains the query above...then the result is:\r\n\r\n`[Invalid SPARQL endpoint (https://data.muziekschatten.nl/sparql) response: undefined`\r\n\r\nMy guess is that Comunica is rewriting the query, e.g. to:\r\n\r\n```sparql\r\nSELECT * WHERE {\r\n  ?uri \u003chttp://www.w3.org/1999/02/22-rdf-syntax-ns#type\u003e \u003chttp://schema.org/Person\u003e;\r\n    \u003chttp://schema.org/name\u003e ?label.\r\n  BIND(\"no name\" AS ?name)\r\n  FILTER(\u003cbif:contains\u003e(?label, \"emile\"))\r\n}\r\nLIMIT 100\r\n```\r\n\r\n`FILTER` is placed after `BIND`. If I execute this query via the endpoint's query editor on `https://data.muziekschatten.nl/sparql`, then Virtuoso yields the error:\r\n\r\n`Virtuoso 37000 Error SP031: SPARQL compiler: The group does not contain triple pattern with '$label' object before bif:contains() predicate`.\r\n\r\nIs it possible to influence the way that Comunica rewrites the query?\r\n\r\n-----\r\n\r\n## Bounty\r\n\r\nA [bounty](https://comunica.dev/association/bounties/) has been placed on this issue by:\r\n\r\n\u003c!--bounty:placers:start--\u003e\r\n\r\n| |\r\n|-|\r\n| [\u003cimg alt=\"Netwerk Digitaal Erfgoed\" src=\"https://user-images.githubusercontent.com/440384/134636829-f730230c-bfec-4d40-86d1-67f28479cdcc.png\" height=\"25\"\u003e](https://netwerkdigitaalerfgoed.nl/) |\r\n| ‚Ç¨544 |\r\n\r\n\u003c!--bounty:placers:end--\u003e\r\n\r\n[Click here to learn more](https://comunica.dev/association/bounty_process/) if you're interested in claiming this bounty by resolving this issue.","bodyHTML":"\u003cp dir=\"auto\"\u003e\u003cem\u003eThis issue has been modified by \u003ca class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/rubensworks/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rubensworks\"\u003e@rubensworks\u003c/a\u003e to describe the intended solution\u003c/em\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eThe problem is that we always parse the incoming query, and serialize it again when we send it to a SPARQL endpoint. Since this parsing-serializing process sometimes results in slightly different queries, this may cause issues for certain use cases. To solve this, we need to keep track of the original query string, and use that one in the case of querying a SPARQL endpoint.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eIn actor-init-sparql, we need to add the original query string into the context.\u003cbr\u003e\nIn \u003ccode class=\"notranslate\"\u003eactor-query-operation-sparql-endpoint\u003c/code\u003e, we need to check this context entry, and use that one if it exists.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eThe only difficulty here is that we have to make sure that this context entry does not propagate to places where it shouldn't. For example, if this actor is only used because of a \u003ccode class=\"notranslate\"\u003eSERVICE\u003c/code\u003e keyword, we need to make sure that the actor still uses the \u003ccode class=\"notranslate\"\u003eSERVICE\u003c/code\u003e operation instead of the full original query. We could do this by just making sure that the service operator unsets or overrides this entry.\u003c/p\u003e\n\u003chr\u003e\n\u003cp dir=\"auto\"\u003eOriginal issue:\u003c/p\u003e\n\u003ch4 dir=\"auto\"\u003eIssue type:\u003c/h4\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003cg-emoji class=\"g-emoji\" alias=\"question\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/2753.png\"\u003e‚ùì\u003c/g-emoji\u003e Question \u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch4 dir=\"auto\"\u003eQuestion:\u003c/h4\u003e\n\u003cp dir=\"auto\"\u003eI want to query SPARQL endpoint \u003ccode class=\"notranslate\"\u003ehttps://data.muziekschatten.nl/sparql\u003c/code\u003e, backed by Virtuoso, using the query underneath:\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-sparql position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"SELECT * WHERE {\n  ?uri \u0026lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type\u0026gt; \u0026lt;http://schema.org/Person\u0026gt;;\n    \u0026lt;http://schema.org/name\u0026gt; ?label.\n  FILTER(\u0026lt;bif:contains\u0026gt;(?label, \u0026quot;emile\u0026quot;))\n  BIND(\u0026quot;no name\u0026quot; AS ?name)\n}\nLIMIT 100\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003eSELECT\u003c/span\u003e * \u003cspan class=\"pl-k\"\u003eWHERE\u003c/span\u003e {\n  \u003cspan class=\"pl-c1\"\u003e?uri\u003c/span\u003e \u003cspan class=\"pl-en\"\u003e\u0026lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type\u0026gt;\u003c/span\u003e \u003cspan class=\"pl-en\"\u003e\u0026lt;http://schema.org/Person\u0026gt;\u003c/span\u003e;\n    \u003cspan class=\"pl-en\"\u003e\u0026lt;http://schema.org/name\u0026gt;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e?label\u003c/span\u003e.\n  \u003cspan class=\"pl-k\"\u003eFILTER\u003c/span\u003e(\u0026lt;bif:contains\u0026gt;(\u003cspan class=\"pl-c1\"\u003e?label\u003c/span\u003e, \"emile\"))\n  BIND(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eno name\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003eAS\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e?name\u003c/span\u003e)\n}\n\u003cspan class=\"pl-k\"\u003eLIMIT\u003c/span\u003e 100\u003c/pre\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eIt's a silly query - but the crucial parts are the \u003ccode class=\"notranslate\"\u003eFILTER\u003c/code\u003e and the \u003ccode class=\"notranslate\"\u003eBIND\u003c/code\u003e. If I execute this using Comunica...\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode class=\"notranslate\"\u003enpx comunica-sparql sparql@https://data.muziekschatten.nl/sparql -f query.rq\u003c/code\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e...where file \u003ccode class=\"notranslate\"\u003equery.rq\u003c/code\u003e contains the query above...then the result is:\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode class=\"notranslate\"\u003e[Invalid SPARQL endpoint (https://data.muziekschatten.nl/sparql) response: undefined\u003c/code\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eMy guess is that Comunica is rewriting the query, e.g. to:\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-sparql position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"SELECT * WHERE {\n  ?uri \u0026lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type\u0026gt; \u0026lt;http://schema.org/Person\u0026gt;;\n    \u0026lt;http://schema.org/name\u0026gt; ?label.\n  BIND(\u0026quot;no name\u0026quot; AS ?name)\n  FILTER(\u0026lt;bif:contains\u0026gt;(?label, \u0026quot;emile\u0026quot;))\n}\nLIMIT 100\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003eSELECT\u003c/span\u003e * \u003cspan class=\"pl-k\"\u003eWHERE\u003c/span\u003e {\n  \u003cspan class=\"pl-c1\"\u003e?uri\u003c/span\u003e \u003cspan class=\"pl-en\"\u003e\u0026lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type\u0026gt;\u003c/span\u003e \u003cspan class=\"pl-en\"\u003e\u0026lt;http://schema.org/Person\u0026gt;\u003c/span\u003e;\n    \u003cspan class=\"pl-en\"\u003e\u0026lt;http://schema.org/name\u0026gt;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e?label\u003c/span\u003e.\n  BIND(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eno name\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003eAS\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e?name\u003c/span\u003e)\n  \u003cspan class=\"pl-k\"\u003eFILTER\u003c/span\u003e(\u0026lt;bif:contains\u0026gt;(\u003cspan class=\"pl-c1\"\u003e?label\u003c/span\u003e, \"emile\"))\n}\n\u003cspan class=\"pl-k\"\u003eLIMIT\u003c/span\u003e 100\u003c/pre\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode class=\"notranslate\"\u003eFILTER\u003c/code\u003e is placed after \u003ccode class=\"notranslate\"\u003eBIND\u003c/code\u003e. If I execute this query via the endpoint's query editor on \u003ccode class=\"notranslate\"\u003ehttps://data.muziekschatten.nl/sparql\u003c/code\u003e, then Virtuoso yields the error:\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode class=\"notranslate\"\u003eVirtuoso 37000 Error SP031: SPARQL compiler: The group does not contain triple pattern with '$label' object before bif:contains() predicate\u003c/code\u003e.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eIs it possible to influence the way that Comunica rewrites the query?\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 dir=\"auto\"\u003eBounty\u003c/h2\u003e\n\u003cp dir=\"auto\"\u003eA \u003ca href=\"https://comunica.dev/association/bounties/\" rel=\"nofollow\"\u003ebounty\u003c/a\u003e has been placed on this issue by:\u003c/p\u003e\n\n\u003ctable role=\"table\"\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ca href=\"https://netwerkdigitaalerfgoed.nl/\" rel=\"nofollow\"\u003e\u003cimg alt=\"Netwerk Digitaal Erfgoed\" src=\"https://user-images.githubusercontent.com/440384/134636829-f730230c-bfec-4d40-86d1-67f28479cdcc.png\" height=\"25\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e‚Ç¨544\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://comunica.dev/association/bounty_process/\" rel=\"nofollow\"\u003eClick here to learn more\u003c/a\u003e if you're interested in claiming this bounty by resolving this issue.\u003c/p\u003e","createdAt":"2021-07-28T15:44:07Z","closedAt":"2021-11-26T15:26:55Z"},{"state":"OPEN","title":"Stream scalability issues","url":"https://github.com/rubensworks/jsonld-streaming-parser.js/issues/76","number":76,"repository":{"name":"jsonld-streaming-parser.js","nameWithOwner":"rubensworks/jsonld-streaming-parser.js","url":"https://github.com/rubensworks/jsonld-streaming-parser.js","description":"A fast and lightweight streaming JSON-LD parser for JavaScript"},"assignees":{"totalCount":0,"nodes":[]},"body":"This is a master issue that acts as an overview of the following issues:\r\n\r\n* #71\r\n* #65\r\n* #66\r\n\r\n-----\r\n\r\n## Bounty\r\n\r\nA [bounty](https://comunica.dev/association/bounties/) has been placed on this issue by:\r\n\r\n\u003c!--bounty:placers:start--\u003e\r\n\r\n| |\r\n|-|\r\n| [\u003cimg alt=\"Triply\" src=\"https://nightly.triplydb.com/imgs/logos/logo-lg.svg?v=3\" height=\"25\"\u003e](https://triply.cc/) |\r\n| ‚Ç¨3808 |\r\n\r\n\u003c!--bounty:placers:end--\u003e\r\n\r\n[Click here to learn more](https://comunica.dev/association/bounty_process/) if you're interested in claiming this bounty by resolving this issue.","bodyHTML":"\u003cp dir=\"auto\"\u003eThis is a master issue that acts as an overview of the following issues:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"741635227\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rubensworks/jsonld-streaming-parser.js/issues/71\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rubensworks/jsonld-streaming-parser.js/issues/71/hovercard\" href=\"https://github.com/rubensworks/jsonld-streaming-parser.js/issues/71\"\u003e#71\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"635222528\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rubensworks/jsonld-streaming-parser.js/issues/65\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rubensworks/jsonld-streaming-parser.js/issues/65/hovercard\" href=\"https://github.com/rubensworks/jsonld-streaming-parser.js/issues/65\"\u003e#65\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"636110731\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rubensworks/jsonld-streaming-parser.js/issues/66\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rubensworks/jsonld-streaming-parser.js/issues/66/hovercard\" href=\"https://github.com/rubensworks/jsonld-streaming-parser.js/issues/66\"\u003e#66\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 dir=\"auto\"\u003eBounty\u003c/h2\u003e\n\u003cp dir=\"auto\"\u003eA \u003ca href=\"https://comunica.dev/association/bounties/\" rel=\"nofollow\"\u003ebounty\u003c/a\u003e has been placed on this issue by:\u003c/p\u003e\n\n\u003ctable role=\"table\"\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ca href=\"https://triply.cc/\" rel=\"nofollow\"\u003e\u003cimg alt=\"Triply\" src=\"https://camo.githubusercontent.com/547db41015fa10085b341e630c4dea9f2d35cf2fa0be50ade907236566191069/68747470733a2f2f6e696768746c792e747269706c7964622e636f6d2f696d67732f6c6f676f732f6c6f676f2d6c672e7376673f763d33\" height=\"25\" data-canonical-src=\"https://nightly.triplydb.com/imgs/logos/logo-lg.svg?v=3\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e‚Ç¨3808\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://comunica.dev/association/bounty_process/\" rel=\"nofollow\"\u003eClick here to learn more\u003c/a\u003e if you're interested in claiming this bounty by resolving this issue.\u003c/p\u003e","createdAt":"2021-07-20T11:50:24Z","closedAt":null},{"state":"OPEN","title":"Ensure backpressure is maintained in streams","url":"https://github.com/comunica/comunica/issues/759","number":759,"repository":{"name":"comunica","nameWithOwner":"comunica/comunica","url":"https://github.com/comunica/comunica","description":"üì¨ A knowledge graph querying framework for JavaScript"},"assignees":{"totalCount":0,"nodes":[]},"body":"#### Issue type:\r\n\r\n- :bug: Bug \u003c!--Don't change this issue type!--\u003e\r\n\r\n____\r\n#### Description:\r\n\r\nThere seem to be a couple of places where we are not adhering to Node's backpressure conventions with regards to streams.\r\n\r\nConcretely, we seem to be creating new streams (such as `Readable`, `PassThrough` and `Transform`), and `push`-ing into them (via a `'data'` handler on another stream). Node handles backpressuring via the return value of `push`, which we are ignoring in this manner.\r\n\r\nA better solution would be to simply `pipe` instead of calling `push` on each data element.\r\n\r\nRelated to https://github.com/rubensworks/rdf-parse.js/commit/269c757935c54b388e1bde076dc29c2afc2e8e7b\r\n\r\n-----\r\n\r\n## Bounty\r\n\r\nA [bounty](https://comunica.dev/association/bounties/) has been placed on this issue by:\r\n\r\n\u003c!--bounty:placers:start--\u003e\r\n\r\n| |\r\n|-|\r\n| [\u003cimg alt=\"Comunica Association\" src=\"https://comunica.dev/img/comunica_red.svg\" height=\"50\"\u003e](https://comunica.dev/association/) |\r\n| ‚Ç¨1088 |\r\n\r\n\u003c!--bounty:placers:end--\u003e\r\n\r\n[Click here to learn more](https://comunica.dev/association/bounty_process/) if you're interested in claiming this bounty by resolving this issue.\r\n","bodyHTML":"\u003ch4 dir=\"auto\"\u003eIssue type:\u003c/h4\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003cg-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f41b.png\"\u003eüêõ\u003c/g-emoji\u003e Bug \u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch4 dir=\"auto\"\u003eDescription:\u003c/h4\u003e\n\u003cp dir=\"auto\"\u003eThere seem to be a couple of places where we are not adhering to Node's backpressure conventions with regards to streams.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eConcretely, we seem to be creating new streams (such as \u003ccode class=\"notranslate\"\u003eReadable\u003c/code\u003e, \u003ccode class=\"notranslate\"\u003ePassThrough\u003c/code\u003e and \u003ccode class=\"notranslate\"\u003eTransform\u003c/code\u003e), and \u003ccode class=\"notranslate\"\u003epush\u003c/code\u003e-ing into them (via a \u003ccode class=\"notranslate\"\u003e'data'\u003c/code\u003e handler on another stream). Node handles backpressuring via the return value of \u003ccode class=\"notranslate\"\u003epush\u003c/code\u003e, which we are ignoring in this manner.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eA better solution would be to simply \u003ccode class=\"notranslate\"\u003epipe\u003c/code\u003e instead of calling \u003ccode class=\"notranslate\"\u003epush\u003c/code\u003e on each data element.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eRelated to \u003ca class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rubensworks/rdf-parse.js/commit/269c757935c54b388e1bde076dc29c2afc2e8e7b/hovercard\" href=\"https://github.com/rubensworks/rdf-parse.js/commit/269c757935c54b388e1bde076dc29c2afc2e8e7b\"\u003erubensworks/rdf-parse.js@\u003ctt\u003e269c757\u003c/tt\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 dir=\"auto\"\u003eBounty\u003c/h2\u003e\n\u003cp dir=\"auto\"\u003eA \u003ca href=\"https://comunica.dev/association/bounties/\" rel=\"nofollow\"\u003ebounty\u003c/a\u003e has been placed on this issue by:\u003c/p\u003e\n\n\u003ctable role=\"table\"\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ca href=\"https://comunica.dev/association/\" rel=\"nofollow\"\u003e\u003cimg alt=\"Comunica Association\" src=\"https://camo.githubusercontent.com/b4c6d02f83ec624d60d45d9d5ab87ca235d9a10f4ce7b84fdb73dda007d94b64/68747470733a2f2f636f6d756e6963612e6465762f696d672f636f6d756e6963615f7265642e737667\" height=\"50\" data-canonical-src=\"https://comunica.dev/img/comunica_red.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e‚Ç¨1088\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://comunica.dev/association/bounty_process/\" rel=\"nofollow\"\u003eClick here to learn more\u003c/a\u003e if you're interested in claiming this bounty by resolving this issue.\u003c/p\u003e","createdAt":"2020-11-12T14:10:28Z","closedAt":null},{"state":"CLOSED","title":"Throwing `Projection of ungrouped variable` error on valid query","url":"https://github.com/RubenVerborgh/SPARQL.js/issues/120","number":120,"repository":{"name":"SPARQL.js","nameWithOwner":"RubenVerborgh/SPARQL.js","url":"https://github.com/RubenVerborgh/SPARQL.js","description":"A parser for the SPARQL query language in JavaScript"},"assignees":{"totalCount":1,"nodes":[{"name":"Daniel Beeke","avatarUrl":"https://avatars.githubusercontent.com/u/684215?u=44d5742e760eaa9cd2b05b5025654b028c50eacd\u0026v=4","url":"https://github.com/danielbeeke"}]},"body":"We're encountering issues with the most recent sparqljs releases, where the error checking is too strict.\r\nThis query is valid, but throws an `Projection of ungrouped variable (?p)` error:\r\n\r\n```\r\nselect ?p (count(*) as ?n) {\r\n  [ ?p [] ].\r\n}\r\n```\r\n\r\nThis seems to be introduced by this PR: #108\r\n\r\n\r\n-----\r\n\r\n## Bounty\r\n\r\nA [bounty](https://comunica.dev/association/bounties/) has been placed on this issue by:\r\n\r\n\u003c!--bounty:placers:start--\u003e\r\n\r\n| |\r\n|-|\r\n| [\u003cimg alt=\"Triply\" src=\"https://nightly.triplydb.com/imgs/logos/logo-lg.svg?v=3\" height=\"25\"\u003e](https://triply.cc/) |\r\n| ‚Ç¨272 |\r\n\r\n\u003c!--bounty:placers:end--\u003e\r\n\r\n[Click here to learn more](https://comunica.dev/association/bounty_process/) if you're interested in claiming this bounty by resolving this issue.","bodyHTML":"\u003cp dir=\"auto\"\u003eWe're encountering issues with the most recent sparqljs releases, where the error checking is too strict.\u003cbr\u003e\nThis query is valid, but throws an \u003ccode class=\"notranslate\"\u003eProjection of ungrouped variable (?p)\u003c/code\u003e error:\u003c/p\u003e\n\u003cdiv class=\"snippet-clipboard-content position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"select ?p (count(*) as ?n) {\n  [ ?p [] ].\n}\"\u003e\u003cpre class=\"notranslate\"\u003e\u003ccode class=\"notranslate\"\u003eselect ?p (count(*) as ?n) {\n  [ ?p [] ].\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eThis seems to be introduced by this PR: \u003ca class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"666997350\" data-permission-text=\"Title is private\" data-url=\"https://github.com/RubenVerborgh/SPARQL.js/issues/108\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/RubenVerborgh/SPARQL.js/pull/108/hovercard\" href=\"https://github.com/RubenVerborgh/SPARQL.js/pull/108\"\u003e#108\u003c/a\u003e\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 dir=\"auto\"\u003eBounty\u003c/h2\u003e\n\u003cp dir=\"auto\"\u003eA \u003ca href=\"https://comunica.dev/association/bounties/\" rel=\"nofollow\"\u003ebounty\u003c/a\u003e has been placed on this issue by:\u003c/p\u003e\n\n\u003ctable role=\"table\"\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ca href=\"https://triply.cc/\" rel=\"nofollow\"\u003e\u003cimg alt=\"Triply\" src=\"https://camo.githubusercontent.com/547db41015fa10085b341e630c4dea9f2d35cf2fa0be50ade907236566191069/68747470733a2f2f6e696768746c792e747269706c7964622e636f6d2f696d67732f6c6f676f732f6c6f676f2d6c672e7376673f763d33\" height=\"25\" data-canonical-src=\"https://nightly.triplydb.com/imgs/logos/logo-lg.svg?v=3\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e‚Ç¨272\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://comunica.dev/association/bounty_process/\" rel=\"nofollow\"\u003eClick here to learn more\u003c/a\u003e if you're interested in claiming this bounty by resolving this issue.\u003c/p\u003e","createdAt":"2020-10-29T10:13:22Z","closedAt":"2021-10-01T10:37:44Z"},{"state":"OPEN","title":"URL encoded strings are decoded in IRIs","url":"https://github.com/rdfjs/rdfxml-streaming-parser.js/issues/39","number":39,"repository":{"name":"rdfxml-streaming-parser.js","nameWithOwner":"rdfjs/rdfxml-streaming-parser.js","url":"https://github.com/rdfjs/rdfxml-streaming-parser.js","description":"Streaming RDF/XML parser"},"assignees":{"totalCount":1,"nodes":[{"name":"Daniel Beeke","avatarUrl":"https://avatars.githubusercontent.com/u/684215?u=44d5742e760eaa9cd2b05b5025654b028c50eacd\u0026v=4","url":"https://github.com/danielbeeke"}]},"body":"Hi, I have a rdf-xml file where an IRI contains the character sequence `\u0026#xA;`, which is a URL encoding for newlines (`\\n`). In the output of rdfxml-streaming-parser, this string is decoded, so that my IRI now instead contains `\\n`. The same can be seen for other strings such as `\u0026gt;` and `\u0026lt;`. This is different from what N3 does for turtle-family parsing. I'm not certain which approach would be correct. \r\n\r\n```javascript\r\nconst fs = require('fs');\r\nconst RdfXmlParser = require(\"rdfxml-streaming-parser\").RdfXmlParser;\r\nconst N3 = require('n3');\r\n\r\nfs.createReadStream('test.rdf')\r\n  .pipe(new RdfXmlParser())\r\n  .on('data', console.log)\r\n\r\nfs.createReadStream('test.ttl')\r\n  .pipe(new N3.StreamParser())\r\n  .on('data', console.log)\r\n```\r\n\r\ninput files: \r\n\r\n```rdf\r\n\u003c?xml version=\"1.0\" encoding=\"utf-8\" ?\u003e\r\n\u003crdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\r\n         xmlns:ns0=\"b:\"\u003e\r\n\r\n  \u003crdf:Description rdf:about=\"a:\u0026#xA;\"\u003e\r\n    \u003cns0:b rdf:resource=\"c:c\"/\u003e\r\n  \u003c/rdf:Description\u003e\r\n\r\n\u003c/rdf:RDF\u003e\r\n```\r\n\r\n```turtle\r\n\u003ca:\u0026#xA;\u003e\u003cb:b\u003e\u003cc:c\u003e.\r\n```\r\n\r\noutput:\r\n```\r\nQuad {\r\n  subject: NamedNode { value: 'a:\\n' },\r\n  predicate: NamedNode { value: 'b:b' },\r\n  object: NamedNode { value: 'c:c' },\r\n  graph: DefaultGraph { value: '' }\r\n}\r\nQuad {\r\n  subject: NamedNode { id: 'a:\u0026#xA;' },\r\n  predicate: NamedNode { id: 'b:b' },\r\n  object: NamedNode { id: 'c:c' },\r\n  graph: DefaultGraph { id: '' }\r\n}\r\n```\r\n\r\n-----\r\n\r\n## Bounty\r\n\r\nA [bounty](https://comunica.dev/association/bounties/) has been placed on this issue by:\r\n\r\n\u003c!--bounty:placers:start--\u003e\r\n\r\n| |\r\n|-|\r\n| [\u003cimg alt=\"Triply\" src=\"https://nightly.triplydb.com/imgs/logos/logo-lg.svg?v=3\" height=\"25\"\u003e](https://triply.cc/) |\r\n| ‚Ç¨544 |\r\n\r\n\u003c!--bounty:placers:end--\u003e\r\n\r\n[Click here to learn more](https://comunica.dev/association/bounty_process/) if you're interested in claiming this bounty by resolving this issue.","bodyHTML":"\u003cp dir=\"auto\"\u003eHi, I have a rdf-xml file where an IRI contains the character sequence \u003ccode class=\"notranslate\"\u003e\u0026amp;#xA;\u003c/code\u003e, which is a URL encoding for newlines (\u003ccode class=\"notranslate\"\u003e\\n\u003c/code\u003e). In the output of rdfxml-streaming-parser, this string is decoded, so that my IRI now instead contains \u003ccode class=\"notranslate\"\u003e\\n\u003c/code\u003e. The same can be seen for other strings such as \u003ccode class=\"notranslate\"\u003e\u0026amp;gt;\u003c/code\u003e and \u003ccode class=\"notranslate\"\u003e\u0026amp;lt;\u003c/code\u003e. This is different from what N3 does for turtle-family parsing. I'm not certain which approach would be correct.\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-js position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"const fs = require('fs');\nconst RdfXmlParser = require(\u0026quot;rdfxml-streaming-parser\u0026quot;).RdfXmlParser;\nconst N3 = require('n3');\n\nfs.createReadStream('test.rdf')\n  .pipe(new RdfXmlParser())\n  .on('data', console.log)\n\nfs.createReadStream('test.ttl')\n  .pipe(new N3.StreamParser())\n  .on('data', console.log)\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003econst\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003efs\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-en\"\u003erequire\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e'fs'\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n\u003cspan class=\"pl-k\"\u003econst\u003c/span\u003e \u003cspan class=\"pl-v\"\u003eRdfXmlParser\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-en\"\u003erequire\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\"rdfxml-streaming-parser\"\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003eRdfXmlParser\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n\u003cspan class=\"pl-k\"\u003econst\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eN3\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-en\"\u003erequire\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e'n3'\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"pl-s1\"\u003efs\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003ecreateReadStream\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e'test.rdf'\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003epipe\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-v\"\u003eRdfXmlParser\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003eon\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e'data'\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e,\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003econsole\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003elog\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"pl-s1\"\u003efs\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003ecreateReadStream\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e'test.ttl'\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003epipe\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eN3\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003eStreamParser\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003eon\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e'data'\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e,\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003econsole\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003elog\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003einput files:\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-text-xml position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"\u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;utf-8\u0026quot; ?\u0026gt;\n\u0026lt;rdf:RDF xmlns:rdf=\u0026quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#\u0026quot;\n         xmlns:ns0=\u0026quot;b:\u0026quot;\u0026gt;\n\n  \u0026lt;rdf:Description rdf:about=\u0026quot;a:\u0026amp;#xA;\u0026quot;\u0026gt;\n    \u0026lt;ns0:b rdf:resource=\u0026quot;c:c\u0026quot;/\u0026gt;\n  \u0026lt;/rdf:Description\u0026gt;\n\n\u0026lt;/rdf:RDF\u0026gt;\"\u003e\u003cpre\u003e\u0026lt;?\u003cspan class=\"pl-ent\"\u003exml\u003c/span\u003e\u003cspan class=\"pl-e\"\u003e version\u003c/span\u003e=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e1.0\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-e\"\u003e encoding\u003c/span\u003e=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eutf-8\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e ?\u0026gt;\n\u0026lt;\u003cspan class=\"pl-ent\"\u003erdf\u003c/span\u003e\u003cspan class=\"pl-ent\"\u003e:\u003c/span\u003e\u003cspan class=\"pl-ent\"\u003eRDF\u003c/span\u003e \u003cspan class=\"pl-e\"\u003exmlns\u003c/span\u003e\u003cspan class=\"pl-e\"\u003e:\u003c/span\u003e\u003cspan class=\"pl-e\"\u003erdf\u003c/span\u003e=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003ehttp://www.w3.org/1999/02/22-rdf-syntax-ns#\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n         \u003cspan class=\"pl-e\"\u003exmlns\u003c/span\u003e\u003cspan class=\"pl-e\"\u003e:\u003c/span\u003e\u003cspan class=\"pl-e\"\u003ens0\u003c/span\u003e=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eb:\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u0026gt;\n\n  \u0026lt;\u003cspan class=\"pl-ent\"\u003erdf\u003c/span\u003e\u003cspan class=\"pl-ent\"\u003e:\u003c/span\u003e\u003cspan class=\"pl-ent\"\u003eDescription\u003c/span\u003e \u003cspan class=\"pl-e\"\u003erdf\u003c/span\u003e\u003cspan class=\"pl-e\"\u003e:\u003c/span\u003e\u003cspan class=\"pl-e\"\u003eabout\u003c/span\u003e=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003ea:\u003cspan class=\"pl-c1\"\u003e\u0026amp;#xA;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan class=\"pl-ent\"\u003ens0\u003c/span\u003e\u003cspan class=\"pl-ent\"\u003e:\u003c/span\u003e\u003cspan class=\"pl-ent\"\u003eb\u003c/span\u003e \u003cspan class=\"pl-e\"\u003erdf\u003c/span\u003e\u003cspan class=\"pl-e\"\u003e:\u003c/span\u003e\u003cspan class=\"pl-e\"\u003eresource\u003c/span\u003e=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003ec:c\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e/\u0026gt;\n  \u0026lt;/\u003cspan class=\"pl-ent\"\u003erdf\u003c/span\u003e\u003cspan class=\"pl-ent\"\u003e:\u003c/span\u003e\u003cspan class=\"pl-ent\"\u003eDescription\u003c/span\u003e\u0026gt;\n\n\u0026lt;/\u003cspan class=\"pl-ent\"\u003erdf\u003c/span\u003e\u003cspan class=\"pl-ent\"\u003e:\u003c/span\u003e\u003cspan class=\"pl-ent\"\u003eRDF\u003c/span\u003e\u0026gt;\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight highlight-source-turtle position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"\u0026lt;a:\u0026amp;#xA;\u0026gt;\u0026lt;b:b\u0026gt;\u0026lt;c:c\u0026gt;.\"\u003e\u003cpre\u003e\u003cspan class=\"pl-en\"\u003e\u0026lt;a:\u0026amp;#xA;\u0026gt;\u0026lt;b:b\u0026gt;\u0026lt;c:c\u0026gt;\u003c/span\u003e.\u003c/pre\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eoutput:\u003c/p\u003e\n\u003cdiv class=\"snippet-clipboard-content position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Quad {\n  subject: NamedNode { value: 'a:\\n' },\n  predicate: NamedNode { value: 'b:b' },\n  object: NamedNode { value: 'c:c' },\n  graph: DefaultGraph { value: '' }\n}\nQuad {\n  subject: NamedNode { id: 'a:\u0026amp;#xA;' },\n  predicate: NamedNode { id: 'b:b' },\n  object: NamedNode { id: 'c:c' },\n  graph: DefaultGraph { id: '' }\n}\"\u003e\u003cpre class=\"notranslate\"\u003e\u003ccode class=\"notranslate\"\u003eQuad {\n  subject: NamedNode { value: 'a:\\n' },\n  predicate: NamedNode { value: 'b:b' },\n  object: NamedNode { value: 'c:c' },\n  graph: DefaultGraph { value: '' }\n}\nQuad {\n  subject: NamedNode { id: 'a:\u0026amp;#xA;' },\n  predicate: NamedNode { id: 'b:b' },\n  object: NamedNode { id: 'c:c' },\n  graph: DefaultGraph { id: '' }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003chr\u003e\n\u003ch2 dir=\"auto\"\u003eBounty\u003c/h2\u003e\n\u003cp dir=\"auto\"\u003eA \u003ca href=\"https://comunica.dev/association/bounties/\" rel=\"nofollow\"\u003ebounty\u003c/a\u003e has been placed on this issue by:\u003c/p\u003e\n\n\u003ctable role=\"table\"\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ca href=\"https://triply.cc/\" rel=\"nofollow\"\u003e\u003cimg alt=\"Triply\" src=\"https://camo.githubusercontent.com/547db41015fa10085b341e630c4dea9f2d35cf2fa0be50ade907236566191069/68747470733a2f2f6e696768746c792e747269706c7964622e636f6d2f696d67732f6c6f676f732f6c6f676f2d6c672e7376673f763d33\" height=\"25\" data-canonical-src=\"https://nightly.triplydb.com/imgs/logos/logo-lg.svg?v=3\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e‚Ç¨544\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://comunica.dev/association/bounty_process/\" rel=\"nofollow\"\u003eClick here to learn more\u003c/a\u003e if you're interested in claiming this bounty by resolving this issue.\u003c/p\u003e","createdAt":"2020-06-30T12:55:55Z","closedAt":null},{"state":"CLOSED","title":"Parsing issue with SPARQL query on inverse paths in anonymous node","url":"https://github.com/RubenVerborgh/SPARQL.js/issues/99","number":99,"repository":{"name":"SPARQL.js","nameWithOwner":"RubenVerborgh/SPARQL.js","url":"https://github.com/RubenVerborgh/SPARQL.js","description":"A parser for the SPARQL query language in JavaScript"},"assignees":{"totalCount":1,"nodes":[{"name":"Daniel Beeke","avatarUrl":"https://avatars.githubusercontent.com/u/684215?u=44d5742e760eaa9cd2b05b5025654b028c50eacd\u0026v=4","url":"https://github.com/danielbeeke"}]},"body":"_Originally reported in by https://github.com/comunica/comunica/issues/677 @jaw111._\r\n\r\nThere is an odd combination of syntax that is flagged as an error.\r\n\r\n```sparql\r\nSELECT *\r\nWHERE {\r\n  ?movie a dbpedia-owl:Film ;\r\n    dbpedia-owl:starring [\r\n      rdfs:label \"Brad Pitt\"@en ;\r\n      ^dbpedia-owl:starring ?otherMovie\r\n    ] .\r\n}\r\n```\r\n\r\nGives the error:\r\n\r\n```\r\n# Parse error on line 21:\r\n...ad Pitt\"@en ;      ^dbpedia-owl:starrin\r\n----------------------^\r\nExpecting 'IRIREF', 'PNAME_NS', 'VAR', '}', 'GRAPH', ';', 'a', ']', 'PNAME_LN', '.', got '^'\r\n```\r\n\r\nWhilst removing the triple pattern for `a` works just fine:\r\n\r\n```sparql\r\nSELECT *\r\nWHERE {\r\n  ?movie\r\n    dbpedia-owl:starring [\r\n      rdfs:label \"Brad Pitt\"@en ;\r\n      ^dbpedia-owl:starring ?otherMovie\r\n    ] .\r\n}\r\n```\r\n\r\n-----\r\n\r\n## Bounty\r\n\r\nA [bounty](https://comunica.dev/association/bounties/) has been placed on this issue by:\r\n\r\n\u003c!--bounty:placers:start--\u003e\r\n\r\n| |\r\n|-|\r\n| [\u003cimg alt=\"Triply\" src=\"https://nightly.triplydb.com/imgs/logos/logo-lg.svg?v=3\" height=\"25\"\u003e](https://triply.cc/) |\r\n| ‚Ç¨272 |\r\n\r\n\u003c!--bounty:placers:end--\u003e\r\n\r\n[Click here to learn more](https://comunica.dev/association/bounty_process/) if you're interested in claiming this bounty by resolving this issue.","bodyHTML":"\u003cp dir=\"auto\"\u003e\u003cem\u003eOriginally reported in by \u003ca class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"645427878\" data-permission-text=\"Title is private\" data-url=\"https://github.com/comunica/comunica/issues/677\" data-hovercard-type=\"issue\" data-hovercard-url=\"/comunica/comunica/issues/677/hovercard\" href=\"https://github.com/comunica/comunica/issues/677\"\u003ecomunica/comunica#677\u003c/a\u003e \u003ca class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/jaw111/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jaw111\"\u003e@jaw111\u003c/a\u003e.\u003c/em\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eThere is an odd combination of syntax that is flagged as an error.\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-sparql position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"SELECT *\nWHERE {\n  ?movie a dbpedia-owl:Film ;\n    dbpedia-owl:starring [\n      rdfs:label \u0026quot;Brad Pitt\u0026quot;@en ;\n      ^dbpedia-owl:starring ?otherMovie\n    ] .\n}\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003eSELECT\u003c/span\u003e *\n\u003cspan class=\"pl-k\"\u003eWHERE\u003c/span\u003e {\n  \u003cspan class=\"pl-c1\"\u003e?movie\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ea\u003c/span\u003e dbpedia-owl:Film ;\n    dbpedia-owl:starring [\n      rdfs:label \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eBrad Pitt\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003e@en\u003c/span\u003e\u003c/span\u003e ;\n      ^dbpedia-owl:starring \u003cspan class=\"pl-c1\"\u003e?otherMovie\u003c/span\u003e\n    ] .\n}\u003c/pre\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eGives the error:\u003c/p\u003e\n\u003cdiv class=\"snippet-clipboard-content position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"# Parse error on line 21:\n...ad Pitt\u0026quot;@en ;      ^dbpedia-owl:starrin\n----------------------^\nExpecting 'IRIREF', 'PNAME_NS', 'VAR', '}', 'GRAPH', ';', 'a', ']', 'PNAME_LN', '.', got '^'\"\u003e\u003cpre class=\"notranslate\"\u003e\u003ccode class=\"notranslate\"\u003e# Parse error on line 21:\n...ad Pitt\"@en ;      ^dbpedia-owl:starrin\n----------------------^\nExpecting 'IRIREF', 'PNAME_NS', 'VAR', '}', 'GRAPH', ';', 'a', ']', 'PNAME_LN', '.', got '^'\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eWhilst removing the triple pattern for \u003ccode class=\"notranslate\"\u003ea\u003c/code\u003e works just fine:\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-sparql position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"SELECT *\nWHERE {\n  ?movie\n    dbpedia-owl:starring [\n      rdfs:label \u0026quot;Brad Pitt\u0026quot;@en ;\n      ^dbpedia-owl:starring ?otherMovie\n    ] .\n}\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003eSELECT\u003c/span\u003e *\n\u003cspan class=\"pl-k\"\u003eWHERE\u003c/span\u003e {\n  \u003cspan class=\"pl-c1\"\u003e?movie\u003c/span\u003e\n    dbpedia-owl:starring [\n      rdfs:label \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eBrad Pitt\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003e@en\u003c/span\u003e\u003c/span\u003e ;\n      ^dbpedia-owl:starring \u003cspan class=\"pl-c1\"\u003e?otherMovie\u003c/span\u003e\n    ] .\n}\u003c/pre\u003e\u003c/div\u003e\n\u003chr\u003e\n\u003ch2 dir=\"auto\"\u003eBounty\u003c/h2\u003e\n\u003cp dir=\"auto\"\u003eA \u003ca href=\"https://comunica.dev/association/bounties/\" rel=\"nofollow\"\u003ebounty\u003c/a\u003e has been placed on this issue by:\u003c/p\u003e\n\n\u003ctable role=\"table\"\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ca href=\"https://triply.cc/\" rel=\"nofollow\"\u003e\u003cimg alt=\"Triply\" src=\"https://camo.githubusercontent.com/547db41015fa10085b341e630c4dea9f2d35cf2fa0be50ade907236566191069/68747470733a2f2f6e696768746c792e747269706c7964622e636f6d2f696d67732f6c6f676f732f6c6f676f2d6c672e7376673f763d33\" height=\"25\" data-canonical-src=\"https://nightly.triplydb.com/imgs/logos/logo-lg.svg?v=3\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e‚Ç¨272\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://comunica.dev/association/bounty_process/\" rel=\"nofollow\"\u003eClick here to learn more\u003c/a\u003e if you're interested in claiming this bounty by resolving this issue.\u003c/p\u003e","createdAt":"2020-06-25T11:32:44Z","closedAt":"2021-11-29T13:39:03Z"},{"state":"OPEN","title":"Achieve full test coverage","url":"https://github.com/comunica/sparqlee/issues/38","number":38,"repository":{"name":"sparqlee","nameWithOwner":"comunica/sparqlee","url":"https://github.com/comunica/sparqlee","description":"‚öôÔ∏è SPARQL expression evaluator library"},"assignees":{"totalCount":0,"nodes":[]},"body":"We need additional and effective (unit/spec/integration/util) tests so that we achieve a 100% testing coverage.\r\n\r\nRelated to:\r\n\r\n* #35\r\n* #37\r\n* #34\r\n* #50\r\n* #40\r\n* #41\r\n* #21\r\n* #20\r\n-----\r\n\r\n## Bounty\r\n\r\nA [bounty](https://comunica.dev/association/bounties/) has been placed on this issue by:\r\n\r\n\u003c!--bounty:placers:start--\u003e\r\n\r\n| |\r\n|-|\r\n| [\u003cimg alt=\"Comunica Association\" src=\"https://comunica.dev/img/comunica_red.svg\" height=\"50\"\u003e](https://comunica.dev/association/) |\r\n| ‚Ç¨544 |\r\n\r\n\u003c!--bounty:placers:end--\u003e\r\n\r\n[Click here to learn more](https://comunica.dev/association/bounty_process/) if you're interested in claiming this bounty by resolving this issue.","bodyHTML":"\u003cp dir=\"auto\"\u003eWe need additional and effective (unit/spec/integration/util) tests so that we achieve a 100% testing coverage.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eRelated to:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"446188569\" data-permission-text=\"Title is private\" data-url=\"https://github.com/comunica/sparqlee/issues/35\" data-hovercard-type=\"issue\" data-hovercard-url=\"/comunica/sparqlee/issues/35/hovercard\" href=\"https://github.com/comunica/sparqlee/issues/35\"\u003e#35\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"446191377\" data-permission-text=\"Title is private\" data-url=\"https://github.com/comunica/sparqlee/issues/37\" data-hovercard-type=\"issue\" data-hovercard-url=\"/comunica/sparqlee/issues/37/hovercard\" href=\"https://github.com/comunica/sparqlee/issues/37\"\u003e#37\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"446186059\" data-permission-text=\"Title is private\" data-url=\"https://github.com/comunica/sparqlee/issues/34\" data-hovercard-type=\"issue\" data-hovercard-url=\"/comunica/sparqlee/issues/34/hovercard\" href=\"https://github.com/comunica/sparqlee/issues/34\"\u003e#34\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"506036881\" data-permission-text=\"Title is private\" data-url=\"https://github.com/comunica/sparqlee/issues/50\" data-hovercard-type=\"issue\" data-hovercard-url=\"/comunica/sparqlee/issues/50/hovercard\" href=\"https://github.com/comunica/sparqlee/issues/50\"\u003e#50\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"446193104\" data-permission-text=\"Title is private\" data-url=\"https://github.com/comunica/sparqlee/issues/40\" data-hovercard-type=\"issue\" data-hovercard-url=\"/comunica/sparqlee/issues/40/hovercard\" href=\"https://github.com/comunica/sparqlee/issues/40\"\u003e#40\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"446195017\" data-permission-text=\"Title is private\" data-url=\"https://github.com/comunica/sparqlee/issues/41\" data-hovercard-type=\"issue\" data-hovercard-url=\"/comunica/sparqlee/issues/41/hovercard\" href=\"https://github.com/comunica/sparqlee/issues/41\"\u003e#41\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"409888958\" data-permission-text=\"Title is private\" data-url=\"https://github.com/comunica/sparqlee/issues/21\" data-hovercard-type=\"issue\" data-hovercard-url=\"/comunica/sparqlee/issues/21/hovercard\" href=\"https://github.com/comunica/sparqlee/issues/21\"\u003e#21\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"409851929\" data-permission-text=\"Title is private\" data-url=\"https://github.com/comunica/sparqlee/issues/20\" data-hovercard-type=\"issue\" data-hovercard-url=\"/comunica/sparqlee/issues/20/hovercard\" href=\"https://github.com/comunica/sparqlee/issues/20\"\u003e#20\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 dir=\"auto\"\u003eBounty\u003c/h2\u003e\n\u003cp dir=\"auto\"\u003eA \u003ca href=\"https://comunica.dev/association/bounties/\" rel=\"nofollow\"\u003ebounty\u003c/a\u003e has been placed on this issue by:\u003c/p\u003e\n\n\u003ctable role=\"table\"\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ca href=\"https://comunica.dev/association/\" rel=\"nofollow\"\u003e\u003cimg alt=\"Comunica Association\" src=\"https://camo.githubusercontent.com/b4c6d02f83ec624d60d45d9d5ab87ca235d9a10f4ce7b84fdb73dda007d94b64/68747470733a2f2f636f6d756e6963612e6465762f696d672f636f6d756e6963615f7265642e737667\" height=\"50\" data-canonical-src=\"https://comunica.dev/img/comunica_red.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e‚Ç¨544\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://comunica.dev/association/bounty_process/\" rel=\"nofollow\"\u003eClick here to learn more\u003c/a\u003e if you're interested in claiming this bounty by resolving this issue.\u003c/p\u003e","createdAt":"2019-05-20T15:53:09Z","closedAt":null},{"state":"OPEN","title":"HTTP caching","url":"https://github.com/comunica/comunica/issues/166","number":166,"repository":{"name":"comunica","nameWithOwner":"comunica/comunica","url":"https://github.com/comunica/comunica","description":"üì¨ A knowledge graph querying framework for JavaScript"},"assignees":{"totalCount":0,"nodes":[]},"body":"#### Issue type:\r\n\r\n- :heavy_plus_sign: Feature request\r\n\r\n____\r\n#### Description:\r\n\r\nWe should add support for proper client-side caching of HTTP resources.\r\nWe should check both the `Expires`, `Cache-Control`, `ETag` and `Last-Modified` headers, and appropriately send requests with `If-None-Match`/`If-Modified-Since` if needed.\r\n\r\nWe should make the cache actor work on the http bus.\r\n\r\nThere may be npm packages available that can help us out.\r\n\r\nThis article contains some useful information on caching: https://link.springer.com/chapter/10.1007/978-3-319-18818-8_18\r\n\r\nMore relevant papers:\r\n* Bahn, Hyokyung, et al. \"Efficient replacement of nonuniform objects in web caches.\" Computer 35.6 (2002): 65-73.\r\n* Jin, Shudong, and Azer Bestavros. \"GreedyDual‚àó Web caching algorithm: exploiting the two sources of temporal locality in Web request streams.\" Computer Communications 24.2 (2001): 174-183.\r\n* Jin, Shudong, and Azer Bestavros. \"Popularity-aware greedy dual-size web proxy caching algorithms.\" Proceedings 20th IEEE International Conference on Distributed Computing Systems. IEEE, 2000.\r\n-----\r\n\r\n## Bounty\r\n\r\nA [bounty](https://comunica.dev/association/bounties/) has been placed on this issue by:\r\n\r\n\u003c!--bounty:placers:start--\u003e\r\n\r\n| |\r\n|-|\r\n| [\u003cimg alt=\"Comunica Association\" src=\"https://comunica.dev/img/comunica_red.svg\" height=\"50\"\u003e](https://comunica.dev/association/) |\r\n| ‚Ç¨544 |\r\n\r\n\u003c!--bounty:placers:end--\u003e\r\n\r\n[Click here to learn more](https://comunica.dev/association/bounty_process/) if you're interested in claiming this bounty by resolving this issue.","bodyHTML":"\u003ch4 dir=\"auto\"\u003eIssue type:\u003c/h4\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003cg-emoji class=\"g-emoji\" alias=\"heavy_plus_sign\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/2795.png\"\u003e‚ûï\u003c/g-emoji\u003e Feature request\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch4 dir=\"auto\"\u003eDescription:\u003c/h4\u003e\n\u003cp dir=\"auto\"\u003eWe should add support for proper client-side caching of HTTP resources.\u003cbr\u003e\nWe should check both the \u003ccode class=\"notranslate\"\u003eExpires\u003c/code\u003e, \u003ccode class=\"notranslate\"\u003eCache-Control\u003c/code\u003e, \u003ccode class=\"notranslate\"\u003eETag\u003c/code\u003e and \u003ccode class=\"notranslate\"\u003eLast-Modified\u003c/code\u003e headers, and appropriately send requests with \u003ccode class=\"notranslate\"\u003eIf-None-Match\u003c/code\u003e/\u003ccode class=\"notranslate\"\u003eIf-Modified-Since\u003c/code\u003e if needed.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eWe should make the cache actor work on the http bus.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eThere may be npm packages available that can help us out.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eThis article contains some useful information on caching: \u003ca href=\"https://link.springer.com/chapter/10.1007/978-3-319-18818-8_18\" rel=\"nofollow\"\u003ehttps://link.springer.com/chapter/10.1007/978-3-319-18818-8_18\u003c/a\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eMore relevant papers:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eBahn, Hyokyung, et al. \"Efficient replacement of nonuniform objects in web caches.\" Computer 35.6 (2002): 65-73.\u003c/li\u003e\n\u003cli\u003eJin, Shudong, and Azer Bestavros. \"GreedyDual‚àó Web caching algorithm: exploiting the two sources of temporal locality in Web request streams.\" Computer Communications 24.2 (2001): 174-183.\u003c/li\u003e\n\u003cli\u003eJin, Shudong, and Azer Bestavros. \"Popularity-aware greedy dual-size web proxy caching algorithms.\" Proceedings 20th IEEE International Conference on Distributed Computing Systems. IEEE, 2000.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 dir=\"auto\"\u003eBounty\u003c/h2\u003e\n\u003cp dir=\"auto\"\u003eA \u003ca href=\"https://comunica.dev/association/bounties/\" rel=\"nofollow\"\u003ebounty\u003c/a\u003e has been placed on this issue by:\u003c/p\u003e\n\n\u003ctable role=\"table\"\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ca href=\"https://comunica.dev/association/\" rel=\"nofollow\"\u003e\u003cimg alt=\"Comunica Association\" src=\"https://camo.githubusercontent.com/b4c6d02f83ec624d60d45d9d5ab87ca235d9a10f4ce7b84fdb73dda007d94b64/68747470733a2f2f636f6d756e6963612e6465762f696d672f636f6d756e6963615f7265642e737667\" height=\"50\" data-canonical-src=\"https://comunica.dev/img/comunica_red.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e‚Ç¨544\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://comunica.dev/association/bounty_process/\" rel=\"nofollow\"\u003eClick here to learn more\u003c/a\u003e if you're interested in claiming this bounty by resolving this issue.\u003c/p\u003e","createdAt":"2018-07-03T10:59:23Z","closedAt":null},{"state":"OPEN","title":"Clearer error reporting for incorrect input","url":"https://github.com/comunica/comunica/issues/119","number":119,"repository":{"name":"comunica","nameWithOwner":"comunica/comunica","url":"https://github.com/comunica/comunica","description":"üì¨ A knowledge graph querying framework for JavaScript"},"assignees":{"totalCount":0,"nodes":[]},"body":"_This issue has been modified by @rubensworks to describe the intended solution_\r\n\r\n**Problem:**\r\n\r\nThe problem is that some (most?) errors that can be produced by Comunica are quite cryptic.\r\nThis is a consequence of inter-actor communication happening via mediators, which can produce errors such as:\r\n```\r\nError: https://.../rdf-dereference.json#mediatorRdfParse mediated over all rejecting actors:\r\nError: Unrecognized media type: text/html\r\nError: Unrecognized media type: text/html\r\nError: Unrecognized media type: text/html\r\n    at MediatorRace.js:55\r\n```\r\n\r\nSo the common format is that mediators show an error message that accumulates error messages from failing actors.\r\n\r\n**Possible solution:**\r\n\r\nOne possible solution could be to reformat these types of error messages to something roughly like:\r\n```\r\nError: RDF parsing failed: none of the configured parsers were able to handle the content type 'text/html'.\r\n  Error messages of failing actors:\r\n    ActorNameX: Unrecognized media type: text/html\r\n    ActorNameY: Unrecognized media type: text/html\r\n    ActorNameZ: Unrecognized media type: text/html\r\n```\r\n\r\n(certainly open to other suggestions)\r\n\r\n**Implementation suggestions:**\r\n\r\nWe could have mediators accept an error message format (with placeholders for things such as `contentType` in parsing actions), which can be configured via the different Components.js config files.\r\nThis would mean that every instantiated mediator would have a bus/action-specific error message format.\r\n\r\nEach mediator would also require some polishing (and alignment) in how it produces error messages.\r\n\r\n-----\r\n\r\nOriginal issue:\r\n\r\n#### Issue type:\r\n\r\n- :heavy_plus_sign: Feature request\r\n\r\n#### Description:\r\n\r\nWhen invoking `comunica-sparql` with (for instance) an error in the query, I get:\r\n\r\n```\r\nError: Unknown prefix: schema\r\n    at Object.anonymous (/Users/ruben/.nvm/versions/node/v8.9.4/lib/node_modules/@comunica/actor-init-sparql/node_modules/sparqljs/lib/SparqlParser.js:498:29)\r\n    at Parser.parse (/Users/ruben/.nvm/versions/node/v8.9.4/lib/node_modules/@comunica/actor-init-sparql/node_modules/sparqljs/lib/SparqlParser.js:642:36)\r\n    at Parser.parser.parse (/Users/ruben/.nvm/versions/node/v8.9.4/lib/node_modules/@comunica/actor-init-sparql/node_modules/sparqljs/sparql.js:22:37)\r\n    at Object.translate (/Users/ruben/.nvm/versions/node/v8.9.4/lib/node_modules/@comunica/actor-init-sparql/node_modules/sparqlalgebrajs/lib/sparqlAlgebra.js:30:25)\r\n    at ActorSparqlParseAlgebra.run (/Users/ruben/.nvm/versions/node/v8.9.4/lib/node_modules/@comunica/actor-init-sparql/node_modules/@comunica/actor-sparql-parse-algebra/lib/ActorSparqlParseAlgebra.js:16:47)\r\n    at MediatorRace.mediate (/Users/ruben/.nvm/versions/node/v8.9.4/lib/node_modules/@comunica/actor-init-sparql/node_modules/@comunica/core/lib/Mediator.js:80:22)\r\n    at \u003canonymous\u003e\r\n    at process._tickCallback (internal/process/next_tick.js:188:7)\r\n    at Function.Module.runMain (module.js:686:11)\r\n    at startup (bootstrap_node.js:187:16)\r\n```\r\n\r\nWould be helpful to a) hide the stacktrace (only show it when a certain flag is set) and b) for this particular case, make the error message (a bit) more descriptive.\r\n\r\n-----\r\n\r\n## Bounty\r\n\r\nA [bounty](https://comunica.dev/association/bounties/) has been placed on this issue by:\r\n\r\n\u003c!--bounty:placers:start--\u003e\r\n\r\n| |\r\n|-|\r\n| [\u003cimg alt=\"Comunica Association\" src=\"https://comunica.dev/img/comunica_red.svg\" height=\"50\"\u003e](https://comunica.dev/association/) |\r\n| ‚Ç¨1632 |\r\n\r\n\u003c!--bounty:placers:end--\u003e\r\n\r\n[Click here to learn more](https://comunica.dev/association/bounty_process/) if you're interested in claiming this bounty by resolving this issue.","bodyHTML":"\u003cp dir=\"auto\"\u003e\u003cem\u003eThis issue has been modified by \u003ca class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/rubensworks/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rubensworks\"\u003e@rubensworks\u003c/a\u003e to describe the intended solution\u003c/em\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eProblem:\u003c/strong\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eThe problem is that some (most?) errors that can be produced by Comunica are quite cryptic.\u003cbr\u003e\nThis is a consequence of inter-actor communication happening via mediators, which can produce errors such as:\u003c/p\u003e\n\u003cdiv class=\"snippet-clipboard-content position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Error: https://.../rdf-dereference.json#mediatorRdfParse mediated over all rejecting actors:\nError: Unrecognized media type: text/html\nError: Unrecognized media type: text/html\nError: Unrecognized media type: text/html\n    at MediatorRace.js:55\"\u003e\u003cpre class=\"notranslate\"\u003e\u003ccode class=\"notranslate\"\u003eError: https://.../rdf-dereference.json#mediatorRdfParse mediated over all rejecting actors:\nError: Unrecognized media type: text/html\nError: Unrecognized media type: text/html\nError: Unrecognized media type: text/html\n    at MediatorRace.js:55\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eSo the common format is that mediators show an error message that accumulates error messages from failing actors.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003ePossible solution:\u003c/strong\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eOne possible solution could be to reformat these types of error messages to something roughly like:\u003c/p\u003e\n\u003cdiv class=\"snippet-clipboard-content position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Error: RDF parsing failed: none of the configured parsers were able to handle the content type 'text/html'.\n  Error messages of failing actors:\n    ActorNameX: Unrecognized media type: text/html\n    ActorNameY: Unrecognized media type: text/html\n    ActorNameZ: Unrecognized media type: text/html\"\u003e\u003cpre class=\"notranslate\"\u003e\u003ccode class=\"notranslate\"\u003eError: RDF parsing failed: none of the configured parsers were able to handle the content type 'text/html'.\n  Error messages of failing actors:\n    ActorNameX: Unrecognized media type: text/html\n    ActorNameY: Unrecognized media type: text/html\n    ActorNameZ: Unrecognized media type: text/html\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003e(certainly open to other suggestions)\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eImplementation suggestions:\u003c/strong\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eWe could have mediators accept an error message format (with placeholders for things such as \u003ccode class=\"notranslate\"\u003econtentType\u003c/code\u003e in parsing actions), which can be configured via the different Components.js config files.\u003cbr\u003e\nThis would mean that every instantiated mediator would have a bus/action-specific error message format.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eEach mediator would also require some polishing (and alignment) in how it produces error messages.\u003c/p\u003e\n\u003chr\u003e\n\u003cp dir=\"auto\"\u003eOriginal issue:\u003c/p\u003e\n\u003ch4 dir=\"auto\"\u003eIssue type:\u003c/h4\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003cg-emoji class=\"g-emoji\" alias=\"heavy_plus_sign\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/2795.png\"\u003e‚ûï\u003c/g-emoji\u003e Feature request\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 dir=\"auto\"\u003eDescription:\u003c/h4\u003e\n\u003cp dir=\"auto\"\u003eWhen invoking \u003ccode class=\"notranslate\"\u003ecomunica-sparql\u003c/code\u003e with (for instance) an error in the query, I get:\u003c/p\u003e\n\u003cdiv class=\"snippet-clipboard-content position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Error: Unknown prefix: schema\n    at Object.anonymous (/Users/ruben/.nvm/versions/node/v8.9.4/lib/node_modules/@comunica/actor-init-sparql/node_modules/sparqljs/lib/SparqlParser.js:498:29)\n    at Parser.parse (/Users/ruben/.nvm/versions/node/v8.9.4/lib/node_modules/@comunica/actor-init-sparql/node_modules/sparqljs/lib/SparqlParser.js:642:36)\n    at Parser.parser.parse (/Users/ruben/.nvm/versions/node/v8.9.4/lib/node_modules/@comunica/actor-init-sparql/node_modules/sparqljs/sparql.js:22:37)\n    at Object.translate (/Users/ruben/.nvm/versions/node/v8.9.4/lib/node_modules/@comunica/actor-init-sparql/node_modules/sparqlalgebrajs/lib/sparqlAlgebra.js:30:25)\n    at ActorSparqlParseAlgebra.run (/Users/ruben/.nvm/versions/node/v8.9.4/lib/node_modules/@comunica/actor-init-sparql/node_modules/@comunica/actor-sparql-parse-algebra/lib/ActorSparqlParseAlgebra.js:16:47)\n    at MediatorRace.mediate (/Users/ruben/.nvm/versions/node/v8.9.4/lib/node_modules/@comunica/actor-init-sparql/node_modules/@comunica/core/lib/Mediator.js:80:22)\n    at \u0026lt;anonymous\u0026gt;\n    at process._tickCallback (internal/process/next_tick.js:188:7)\n    at Function.Module.runMain (module.js:686:11)\n    at startup (bootstrap_node.js:187:16)\"\u003e\u003cpre class=\"notranslate\"\u003e\u003ccode class=\"notranslate\"\u003eError: Unknown prefix: schema\n    at Object.anonymous (/Users/ruben/.nvm/versions/node/v8.9.4/lib/node_modules/@comunica/actor-init-sparql/node_modules/sparqljs/lib/SparqlParser.js:498:29)\n    at Parser.parse (/Users/ruben/.nvm/versions/node/v8.9.4/lib/node_modules/@comunica/actor-init-sparql/node_modules/sparqljs/lib/SparqlParser.js:642:36)\n    at Parser.parser.parse (/Users/ruben/.nvm/versions/node/v8.9.4/lib/node_modules/@comunica/actor-init-sparql/node_modules/sparqljs/sparql.js:22:37)\n    at Object.translate (/Users/ruben/.nvm/versions/node/v8.9.4/lib/node_modules/@comunica/actor-init-sparql/node_modules/sparqlalgebrajs/lib/sparqlAlgebra.js:30:25)\n    at ActorSparqlParseAlgebra.run (/Users/ruben/.nvm/versions/node/v8.9.4/lib/node_modules/@comunica/actor-init-sparql/node_modules/@comunica/actor-sparql-parse-algebra/lib/ActorSparqlParseAlgebra.js:16:47)\n    at MediatorRace.mediate (/Users/ruben/.nvm/versions/node/v8.9.4/lib/node_modules/@comunica/actor-init-sparql/node_modules/@comunica/core/lib/Mediator.js:80:22)\n    at \u0026lt;anonymous\u0026gt;\n    at process._tickCallback (internal/process/next_tick.js:188:7)\n    at Function.Module.runMain (module.js:686:11)\n    at startup (bootstrap_node.js:187:16)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eWould be helpful to a) hide the stacktrace (only show it when a certain flag is set) and b) for this particular case, make the error message (a bit) more descriptive.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 dir=\"auto\"\u003eBounty\u003c/h2\u003e\n\u003cp dir=\"auto\"\u003eA \u003ca href=\"https://comunica.dev/association/bounties/\" rel=\"nofollow\"\u003ebounty\u003c/a\u003e has been placed on this issue by:\u003c/p\u003e\n\n\u003ctable role=\"table\"\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ca href=\"https://comunica.dev/association/\" rel=\"nofollow\"\u003e\u003cimg alt=\"Comunica Association\" src=\"https://camo.githubusercontent.com/b4c6d02f83ec624d60d45d9d5ab87ca235d9a10f4ce7b84fdb73dda007d94b64/68747470733a2f2f636f6d756e6963612e6465762f696d672f636f6d756e6963615f7265642e737667\" height=\"50\" data-canonical-src=\"https://comunica.dev/img/comunica_red.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e‚Ç¨1632\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://comunica.dev/association/bounty_process/\" rel=\"nofollow\"\u003eClick here to learn more\u003c/a\u003e if you're interested in claiming this bounty by resolving this issue.\u003c/p\u003e","createdAt":"2018-03-19T08:42:12Z","closedAt":null},{"state":"OPEN","title":"Allow HTTP timeout configuration","url":"https://github.com/comunica/comunica/issues/70","number":70,"repository":{"name":"comunica","nameWithOwner":"comunica/comunica","url":"https://github.com/comunica/comunica","description":"üì¨ A knowledge graph querying framework for JavaScript"},"assignees":{"totalCount":0,"nodes":[]},"body":"We should allow users to pass an HTTP timeout value via the context (`httpTimeout`).\r\n\r\nThis could be implemented using our own `setTimeout` and the fetch `AbortController`: https://github.com/bitinn/node-fetch/issues/95\r\n\r\nWe should keep in mind here that we should clear our own timeout once the request completes (response object is available).\r\n\r\nAdditionally, we need an extra context option (boolean:  `httpTimeoutOnBody`) to make it so that the timeout not only applies to the time until response starts coming in, but also to the time until the response body is fully available. The latter could take longer, or potentially be infinite for e.g. continuous data streams. This should also take into account that response bodies can be cancelled from within Comunica.\r\n\r\n-----\r\n\r\n## Bounty\r\n\r\nA [bounty](https://comunica.dev/association/bounties/) has been placed on this issue by:\r\n\r\n\u003c!--bounty:placers:start--\u003e\r\n\r\n| |\r\n|-|\r\n| [\u003cimg alt=\"Netwerk Digitaal Erfgoed\" src=\"https://user-images.githubusercontent.com/440384/134636829-f730230c-bfec-4d40-86d1-67f28479cdcc.png\" height=\"25\"\u003e](https://netwerkdigitaalerfgoed.nl/) |\r\n| ‚Ç¨1088 |\r\n\r\n\u003c!--bounty:placers:end--\u003e\r\n\r\n[Click here to learn more](https://comunica.dev/association/bounty_process/) if you're interested in claiming this bounty by resolving this issue.","bodyHTML":"\u003cp dir=\"auto\"\u003eWe should allow users to pass an HTTP timeout value via the context (\u003ccode class=\"notranslate\"\u003ehttpTimeout\u003c/code\u003e).\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eThis could be implemented using our own \u003ccode class=\"notranslate\"\u003esetTimeout\u003c/code\u003e and the fetch \u003ccode class=\"notranslate\"\u003eAbortController\u003c/code\u003e: \u003ca class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"145106116\" data-permission-text=\"Title is private\" data-url=\"https://github.com/node-fetch/node-fetch/issues/95\" data-hovercard-type=\"issue\" data-hovercard-url=\"/node-fetch/node-fetch/issues/95/hovercard\" href=\"https://github.com/node-fetch/node-fetch/issues/95\"\u003enode-fetch/node-fetch#95\u003c/a\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eWe should keep in mind here that we should clear our own timeout once the request completes (response object is available).\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eAdditionally, we need an extra context option (boolean:  \u003ccode class=\"notranslate\"\u003ehttpTimeoutOnBody\u003c/code\u003e) to make it so that the timeout not only applies to the time until response starts coming in, but also to the time until the response body is fully available. The latter could take longer, or potentially be infinite for e.g. continuous data streams. This should also take into account that response bodies can be cancelled from within Comunica.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 dir=\"auto\"\u003eBounty\u003c/h2\u003e\n\u003cp dir=\"auto\"\u003eA \u003ca href=\"https://comunica.dev/association/bounties/\" rel=\"nofollow\"\u003ebounty\u003c/a\u003e has been placed on this issue by:\u003c/p\u003e\n\n\u003ctable role=\"table\"\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ca href=\"https://netwerkdigitaalerfgoed.nl/\" rel=\"nofollow\"\u003e\u003cimg alt=\"Netwerk Digitaal Erfgoed\" src=\"https://user-images.githubusercontent.com/440384/134636829-f730230c-bfec-4d40-86d1-67f28479cdcc.png\" height=\"25\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e‚Ç¨1088\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://comunica.dev/association/bounty_process/\" rel=\"nofollow\"\u003eClick here to learn more\u003c/a\u003e if you're interested in claiming this bounty by resolving this issue.\u003c/p\u003e","createdAt":"2018-01-15T14:21:31Z","closedAt":null}]}}}},"__N_SSG":true},"page":"/association/bounties","query":{},"buildId":"git-sha-670f88d8a3b461e3f83f8e325fd6ad4f31258e84","runtimeConfig":{},"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-ff94e68042added27a93.js"></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.15878d4e523f86636251.js" async=""></script><script src="/_next/static/chunks/c1e3b2f3f43b173a87628e8247c22128e45b3e61.71d68ec00d361c7548dd.js" async=""></script><script src="/_next/static/chunks/f6078781a05fe1bcb0902d23dbbb2662c8d200b3.f60a5b4558a7ac8d5749.js" async=""></script><script src="/_next/static/chunks/main-f1fe6667a04211514700.js" async=""></script><script src="/_next/static/chunks/pages/_app-44c872fd0c0e842d8916.js" async=""></script><script src="/_next/static/chunks/f75c12409109803d0c2ec2410ee42e89f4e7705a.dd531d45df067bb4f903.js" async=""></script><script src="/_next/static/chunks/pages/association/bounties-93bd20ecadd6df7a7e85.js" async=""></script><script src="/_next/static/git-sha-670f88d8a3b461e3f83f8e325fd6ad4f31258e84/_buildManifest.js" async=""></script><script src="/_next/static/git-sha-670f88d8a3b461e3f83f8e325fd6ad4f31258e84/_ssgManifest.js" async=""></script></body></html>